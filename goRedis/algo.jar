include 16f1503   
pragma target clock    16_000_000   

pragma target OSC INTOSC_NOCLKOUT
pragma target WDT DISABLED
pragma target PWRTE ENABLED
pragma target MCLR INTERNAL
pragma target CP ENABLED
pragma target BROWNOUT ENABLED
pragma target CLKOUTEN DISABLED

pragma target WRT DISABLED
pragma target STVR ENABLED
-- pragma target VOLTAGE
-- pragma target LPBOR
pragma target LVP DISABLED

-- configura oscilador
OSCCON_SCS = 0
OSCCON_IRCF = 0b1111

-- deshabilita analog
ANSELA = 0b0000_0000
ANSELC = 0b0000_0000
ADCON0 = 0b0000_0000
ADCON1 = 0b0000_0000
ADCON2 = 0b0000_0000
CM1CON0 = 0b0000_0100
CM1CON1 = 0b0000_0000
CM2CON0 = 0b0000_0100
CM2CON1 = 0b0000_0000

-- configura puertos
LATA = 0b0000_0000
WPUA = 0b0000_0000
TRISA = 0b1111_1110
LATC = 0b0000_0000
TRISC = 0b1111_1111


-- por ahora no v:configura timer y interrupci√≥n

procedure interrupt() is
   pragma interrupt
   -- comprobar  si timer1 
   if INT_0_FLAG_BIT then
      INT_0_FLAG_BIT = FALSE -- reset interrupt flag
   end if
end procedure

-- main bucle: encinde en intermitente
alias  led       is pin_A0
pin_A0_direction = OUTPUT

forever loop
    led = ON
    _usec_delay(100_000)
    led = OFF
   _usec_delay(400_000)
end loop

